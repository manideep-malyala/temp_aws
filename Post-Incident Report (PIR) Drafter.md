

# Post-Incident Report (PIR) Drafter

## 🎯 Target Audience

* **Cybersecurity Incident Response (IR) Teams**
* **DevSecOps Engineers**
* **IT Operations & SRE Teams**
* **SOC Analysts**

---

## 💡 Core Concept

After a major incident is resolved, analysts are often left with scattered raw data—Slack messages, personal notes, logs, and ticket IDs—without a structured way to document what really happened. Writing a formal **Post-Incident Report (PIR)** can take hours of effort and often gets delayed or deprioritized.

This tool allows an analyst to **drop raw case artifacts into a structured S3 folder**, and an **AI-powered Bedrock Agent** will automatically:

* Read and organize the data
* Build a timeline
* Identify root causes
* Summarize actions taken
* Suggest preventative measures
* Produce a clean, formal `DRAFT_PIR.md`

All of this happens **without human intervention**—saving time, improving report quality, and ensuring consistency.

---

## 🏗️ AWS Architecture & Workflow

### 📥 **Trigger (S3)**

* **Bucket**: `S3-PIR-Cases`
* **Folder Structure**: Each case gets its own folder, e.g., `/case-1234/`
* **Files Expected**:

  * `notes.txt` – Analyst's unstructured notes
  * `chat.log` – Exported chat history from Slack/Teams
  * `ticket.json` – Incident metadata (e.g., timestamps, severity, system impacted)
  * Any additional log files (e.g., `alerts.log`, `system.out`, etc.)

#### ⛓️ Trigger:

* A file upload into `/case-xxxx/` triggers the `PIR-Trigger-Lambda`

---

### ⚙️ **Orchestration (Lambda → Bedrock)**

* **Function**: `PIR-Trigger-Lambda`
* **Responsibilities**:

  * Detect new or completed case folder upload
  * Compile list of files in the case folder
  * Pass the folder path to a Bedrock Agent for analysis
  * Receive the PIR content from the agent
  * Save the output Markdown file (`DRAFT_PIR.md`) back into the same S3 folder

---

### 🧠 **Agentic Analysis (Bedrock Agent)**

* **Agent Name**: `PIR-Generator-Agent`
* **Knowledge Base**: The agent uses its **Knowledge Base feature** pointed to the S3 `/case-xxxx/` folder
* **Internal Chain of Prompts**:

  1. 🕒 **“Read all the provided documents and create a minute-by-minute timeline of the incident.”**
  2. 🧩 **“Based on the timeline, what was the likely root cause?”**
  3. 🛠️ **“Summarize the actions the response team took.”**
  4. 🛡️ **“Suggest 3-5 preventative measures to stop this from happening again.”**
  5. 📄 **“Assemble the findings into a formal Post-Incident Report in Markdown format.”**

#### 📑 Expected Output: `DRAFT_PIR.md`

```markdown
# Post-Incident Report – Case 1234

## Timeline of Events
- 02:12 AM – Alert triggered from web server (alerts.log)
- 02:17 AM – Slack message from @admin: “Getting 500s on checkout service”
...

## Root Cause
The outage was caused by a misconfigured Nginx rule introduced during the 01:00 AM deployment.

## Response Summary
- @admin investigated logs and restarted service
- Deployment was rolled back
...

## Preventative Measures
1. Add automated config validation for Nginx deployments
2. Integrate alert-based rollback trigger
3. ...

---
Generated by Bedrock PIR Agent – Draft Only
```

---

## 🔁 Hackathon Viability

| Criteria                 | Evaluation                                                 |
| ------------------------ | ---------------------------------------------------------- |
| **Real-world relevance** | ⭐⭐⭐⭐⭐ – Solves a painful documentation gap                 |
| **LLM Superpower Fit**   | ⭐⭐⭐⭐⭐ – Synthesizes large volumes of unstructured input    |
| **Feasibility**          | ⭐⭐⭐⭐⭐ – Simple setup using just S3, Lambda, and Bedrock    |
| **Time-saver**           | ⭐⭐⭐⭐⭐ – Automates hours of work                            |
| **Demo-ready**           | ⭐⭐⭐⭐ – Easy to simulate an end-to-end flow with test files |

---
